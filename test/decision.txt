                            +------------------------+
                            |  Start (setup())        |
                            +------------------------+
                                      |
                                      v
                     +-------------------------------+
                     |  Initialize ConfigManager     |
                     +-------------------------------+
                                      |
                                      v
                       +----------------------------+
                       |  Initialize RTC and Wi-Fi  |
                       +----------------------------+
                                      |
                                      v
                  +----------------------------------------+
                  |  Is it the second time the device    |
                  |  is powered on?                      |
                  +----------------------------------------+
                           | Yes                       | No
                           v                             v
                +----------------------+       +-------------------------------+
                |   Continue execution |       |  Is it the first time the     |
                |   (goto next)        |       |  device is powered on?        |
                +----------------------+       +-------------------------------+
                                                     | Yes                       | No
                                                     v                             v
                                           +-----------------------------+     +-------------------------------+
                                           |  Enable APMode (True)       |     |  Set RTC time from NTP        |
                                           |  and start Wi-Fi in AP mode |     |  Set second-time flag         |
                                           |  Set the first-time flag    |     |  Enter deep sleep for 2 sec   |
                                           +-----------------------------+     +-------------------------------+
                                                      |
                                                      v
                                           +-------------------------------+
                                           |  Enter deep sleep for 2 sec   |
                                           +-------------------------------+
                                                      |
                                                      v
                                              +--------------------+
                                              |    End setup()     |
                                              +--------------------+
                                                      |
                                                      v
                                          +----------------------------+
                                          |  Is button pressed?        |
                                          +----------------------------+
                                                   | Yes                   | No
                                                   v                       v
                                      +------------------------+    +-----------------------------+
                                      |  Enable APMode (True)  |    |  Continue normal operations |
                                      |  and start Wi-Fi in AP mode |    |  (check for power disconnect) |
                                      +------------------------+    +-----------------------------+
                                                     |
                                                     v
                                        +--------------------------+
                                        |    End loop()            |
                                        +--------------------------+
